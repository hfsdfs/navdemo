<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>我的导航</title>
		<link rel="stylesheet" type="text/css" href="navdemo.css"/>
	</head>
<body>
		<header></header>
		<main >
			<style type="text/css">
				
			</style>
			<div class="wrapper" id="mainxx"></div>
			
		</main>
		<footer></footer>
		<script type="text/javascript">
			var keys = {
				0:['q','w','e','r','t','y','u','i','o','p'],
				1:['a','s','d','f','g','h','j','k','l'],
				2:['z','x','c','v','b','n','m'],
				'length':3
			}
			var hash = {
				q:'qq.com',
				w:'weibo.com',
				e:'ele.com',
				r:'renren.com',
				t:'tianya.com',
				y:'youtube.com',
				u:'uc.com',
				i:'iqiyi.com',
				o:'opera.com',
				p:undefined,
				a:'acfun.tc',
				s:'sohu.com',
				z:'zhihu.com',
				m:'baidu.com',
			}
			var hashInlocalStorage = JSON.parse(localStorage.getItem('zzz') ||'null')
			if(hashInlocalStorage){
				hash = hashInlocalStorage
			}
			
			index = 0
			while(index < keys['length']){
				div1 = document.createElement('div')
				div1.className = 'row'
				mainxx.appendChild(div1)
				row = keys[index]
				index2 = 0
				while(index2<row['length']){
					kbd = document.createElement('kbd')
					span = document.createElement('span')
					span.textContent = row[index2]
					span.className = "text"
					kbd.appendChild(span)
					kbd.className = 'key'
					buttonx = document.createElement('button')
					buttonx.textContent = '编辑'
					buttonx.id = row[index2]
					img = document.createElement('img')
					if(hash[row[index2]]){
						img = document.createElement('img')
					img.src='http://'+ hash[row[index2]]+'/favicon.ico'
					}
					
					img.src='http://'+ hash[row[index2]]+'/favicon.ico'
					kbd.appendChild(img)
					buttonx.onclick = function(xzkjcnxlkcjlk){
						key = xzkjcnxlkcjlk['target']['id']	
						x = prompt('给我一个网址')
						hash[key] = x
						localStorage.setItem('zzz',JSON.stringify(hash))
						
					}
					kbd.appendChild(buttonx)
					div1.appendChild(kbd)
					index2 = index2+1
				}
				index = index +1
			}
			document.onkeypress = function(xzkjcnxlkcjlk){
				
				key = xzkjcnxlkcjlk['key']
				website = hash[key]
				console.log(website)
				window.open('http://' + website,'blank')
			}
		</script>
	</body>
</html>